(this.webpackJsonpproducthunt=this.webpackJsonpproducthunt||[]).push([[0],{104:function(e,t,a){e.exports=a(164)},109:function(e,t,a){},164:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),o=a.n(s),i=(a(109),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function c(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=a(20),m=a(21),u=a(30),d=a(29),p=a(31),g=a(18),h=a(39),f=a(91),v=a.n(f),E=function(){function e(t,a,n,r,s){Object(l.a)(this,e),this.data=n,this.msgHandler=r,this.status=t,this.statusText=a,this.message=s}return Object(m.a)(e,[{key:"setData",value:function(e){this.data=e}},{key:"setMsgHandler",value:function(e){this.msgHandler=e}},{key:"setStatus",value:function(e){this.status=e}},{key:"setStatusText",value:function(e){this.statusText=e}},{key:"setMessage",value:function(e){this.message=e}}]),e}(),b=a(224),y=a(205),k=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e,a))).state={showMessage:!0},n.handleMsgDismiss=n.handleMsgDismiss.bind(Object(h.a)(n)),n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleMsgDismiss",value:function(){this.setState({showMessage:!1})}},{key:"componentWillReceiveProps",value:function(){this.setState({showMessage:!0})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.showMessage&&r.a.createElement(b.a,{severity:this.props.messageResponse,onClose:this.handleMsgDismiss},r.a.createElement(y.a,null,this.props.message),this.props.customView))}}]),t}(r.a.Component),O={createMessageHandler:function(e,t){return r.a.createElement(k,{message:e,messageResponse:t})},createMsgHandlerCustomView:function(e,t,a){return r.a.createElement(k,{message:e,messageResponse:t,customView:a})}};var j={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},w=new(function(){function e(){Object(l.a)(this,e);var t=v.a.create({baseURL:"https://api.producthunt.com/v1/",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer YR64Kx1ZG1Lw48g3YpkGrf_Eiru09iZXSVHOj_kr9VY"}});t.interceptors.response.use(this.handleSuccess,this.handleError),this.service=t}return Object(m.a)(e,[{key:"handleSuccess",value:function(e){var t=new E;return t.setData(e.data),t.setStatus(e.status),t.setStatusText(e.statusText),t}},{key:"handleError",value:function(e){var t=new E;if(void 0!==e.response)switch(e.response.status){case 401:return localStorage.removeItem("authkey"),e.config.headers.Authorization="Bearer YR64Kx1ZG1Lw48g3YpkGrf_Eiru09iZXSVHOj_kr9VY",e.config.__isRetryRequest=!0,this.service.request(e.config);default:return t.setStatus(e.response.status),t.setStatusText(e.response.statusText),t}return t.setMessage(e.message),t.setMsgHandler(O.createMessageHandler(e.message,j.ERROR)),t}},{key:"get",value:function(e,t,a){return this.service.get(e).then((function(e){200===e.status?t(e):a(e)}))}},{key:"post",value:function(e,t,a){return this.service.post(e).then((function(e){201===e.status?t(e):a(e)}))}}]),e}()),x=a(222),S=a(215),L=a(58),N=a.n(L),C={convertUTCStringToFormattedDate:function(e,t){return N()(new Date(e)).format(t)},convertDateToFormattedDate:function(e,t){return N()(e).format(t)},diffFromNow:function(e){return N()(e).fromNow()}};var _=a(93),H=a.n(_),T=a(206),D=a(207),M=a(208),R=a(204),V=a(26),B=a(94),F=a.n(B),A=a(96),Y=a.n(A),z=a(48),G=a.n(z),P=a(35);var U=function(e){var t=e.isHomePage,a=e.pageName,n=Object(T.a)((function(e){return{appBar:{marginBottom:"1rem"},toolbarButtons:{marginLeft:"auto"},menuButton:{marginRight:e.spacing(2)}}}))();return r.a.createElement(D.a,{position:"static",className:n.appBar},r.a.createElement(M.a,{variant:"regular"},r.a.createElement(R.a,{edge:"start",className:n.menuButton,color:"inherit","aria-label":"menu"},t?r.a.createElement(F.a,null):r.a.createElement(P.b,{to:"/homepage"},r.a.createElement(Y.a,null))),r.a.createElement(V.a,{variant:"h6",color:"inherit"},t?"ProductHunt":a),t&&r.a.createElement(P.b,{className:n.toolbarButtons,to:"myupvotes"},r.a.createElement(G.a,{"aria-controls":"menu-appbar"}))))},W=a(221),I=a(72),Z=a(32),q=a(209),J=a(228),K=a(57),X=a(211),Q=a(210),$=a(212),ee=a(213),te=a(214),ae=a(226),ne=a(74),re=a.n(ne),se=a(3),oe=a(97),ie=a.n(oe),ce=a(73),le=a.n(ce),me=a(223),ue=a(218),de=a(227),pe=a(217),ge=a(216),he=a(219),fe=a(98),ve=a.n(fe),Ee=a(225),be=a(220),ye=r.a.forwardRef((function(e,t){return r.a.createElement(Ee.a,Object.assign({direction:"up",ref:t},e))}));var ke=function(e){var t=e.posts,a=e.isVotesList,n=Object(T.a)((function(e){return{card:{maxWidth:345},cardTagline:{height:40},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},expandComment:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandCommentOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:K.a[500]},chip:{margin:e.spacing(.5)},favRed:{color:K.a[500]},appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},progress:{marginLeft:"50%",marginTop:e.spacing(2)},inline:{display:"inline"},expandMore:{marginLeft:"auto"},childComment:{marginLeft:e.spacing(4),marginTop:e.spacing(2)},createdAtChild:{marginRight:e.spacing(2)}}}))(),s=r.a.useState(!1),o=Object(Z.a)(s,2),i=o[0],c=o[1],l=r.a.useState(!0),m=Object(Z.a)(l,2),u=m[0],d=m[1],p=r.a.useState(1),g=Object(Z.a)(p,2),h=g[0],f=g[1],v=r.a.useState([]),E=Object(Z.a)(v,2),b=E[0],y=E[1],k=r.a.useState(!1),O=Object(Z.a)(k,2),j=O[0],x=O[1],L=r.a.useState(!1),N=Object(Z.a)(L,2),_=N[0],H=N[1],B=function(){d(!u)},F=function(e,t){H(!0),f(h+1),5*h>(t+4)/5*5?(H(!1),x(!0)):w.get("posts/"+e+"/comments?&page="+h+"&per_page=5&order=desc",(function(e){H(!1),y(b.concat(e.data.comments))}),(function(e){H(!1),console.log(e)}))},A=r.a.useState(!1),Y=Object(Z.a)(A,2),z=Y[0],P=Y[1],U=function(){P(!1)};return r.a.createElement("div",null,r.a.createElement(q.a,{className:n.card},r.a.createElement(Q.a,{className:n.media,image:t.thumbnail.image_url,title:t.thumbnail.media_type}),r.a.createElement(X.a,{avatar:r.a.createElement(ae.a,{"aria-label":"recipe",className:n.avatar,src:t.user.image_url["30px"]}),title:t.name,subheader:"Created At "+C.convertUTCStringToFormattedDate(t.created_at,"HH:mm:ss")}),r.a.createElement($.a,null,r.a.createElement(V.a,{variant:"body2",color:"textSecondary",className:n.cardTagline,component:"p"},t.tagline)),r.a.createElement(ee.a,{disableSpacing:!0},!a&&r.a.createElement(R.a,{"aria-label":"add to favorites",onClick:function(e){return a=t.id,void w.post("posts/"+a+"/vote",(function(e){}),(function(e){}));var a}},t.current_user.voted_for_post&&r.a.createElement(G.a,{className:n.favRed}),!t.current_user.voted_for_post&&r.a.createElement(G.a,null)),r.a.createElement(R.a,{"aria-label":"share",onClick:function(e){return t.id,a=t.comments_count,P(!0),f(1),void F(t.id,a);var a}},r.a.createElement(ie.a,null),r.a.createElement(V.a,{variant:"body2",color:"textSecondary",component:"p"},"\xa0",t.comments_count)),r.a.createElement(R.a,{"aria-label":"share",disabled:!0},r.a.createElement(le.a,null),r.a.createElement(V.a,{variant:"body2",color:"textSecondary",component:"p"},"\xa0",t.votes_count)),r.a.createElement(R.a,{className:Object(se.a)(n.expand,Object(I.a)({},n.expandOpen,i)),onClick:function(){c(!i)},"aria-expanded":i,"aria-label":"show more"},r.a.createElement(re.a,null))),r.a.createElement(te.a,{in:i,timeout:"auto",unmountOnExit:!0},r.a.createElement($.a,null,t.topics.map((function(e){return r.a.createElement(J.a,{key:e.id,label:e.name,className:n.chip})}))))),r.a.createElement(me.a,{fullScreen:!0,open:z,onClose:U,TransitionComponent:ye},r.a.createElement(D.a,{className:n.appBar},r.a.createElement(M.a,null,r.a.createElement(R.a,{edge:"start",color:"inherit",onClick:U,"aria-label":"close"},r.a.createElement(ve.a,null)),r.a.createElement(V.a,{variant:"h6",className:n.title},"Comments"))),_&&r.a.createElement(S.a,{className:n.progress}),r.a.createElement(ge.a,null,b.map((function(e){return r.a.createElement("div",null,r.a.createElement(de.a,{button:!0,key:e.id},r.a.createElement(pe.a,null,r.a.createElement(ae.a,{alt:"Remy Sharp",src:e.user.image_url["30px"]})),r.a.createElement(ue.a,{primary:e.body,secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{component:"span",variant:"body2",color:"textPrimary",className:n.createdAtChild},C.diffFromNow(e.created_at)+" ---- "+e.user.name),e.votes>0&&r.a.createElement(R.a,{"aria-label":"share",disabled:!0},r.a.createElement(le.a,null),r.a.createElement(V.a,{variant:"body2",color:"textSecondary",component:"p"},"\xa0",e.votes)),e.maker&&r.a.createElement(J.a,{key:e.id,label:"Maker",size:"small",className:n.chip}),e.hunter&&r.a.createElement(J.a,{key:e.id,label:"Hunter",size:"small",className:n.chip}),e.live_guest&&r.a.createElement(J.a,{key:e.id,size:"small",label:"Live Guest",className:n.chip}),e.child_comments_count>0&&r.a.createElement(R.a,{className:Object(se.a)(n.expandComment,Object(I.a)({},n.expandCommentOpen,u)),onClick:B,"aria-expanded":u,"aria-label":"show more"},r.a.createElement(re.a,null)),r.a.createElement(te.a,{in:u,timeout:"auto",unmountOnExit:!0},e.child_comments_count>0&&e.child_comments.map((function(e){return r.a.createElement("div",{className:n.childComment},r.a.createElement(V.a,{variant:"body2",color:"textSecondary",component:"p"},e.body),r.a.createElement(V.a,{className:n.createdAtChild,component:"span",variant:"body2",color:"textPrimary"},C.diffFromNow(e.created_at)+" ---- "+e.user.name),e.maker&&r.a.createElement(J.a,{key:e.id,label:"Maker",size:"small",className:n.chip}),!e.hunter&&r.a.createElement(J.a,{key:e.id,label:"Hunter",size:"small",className:n.chip}),e.live_guest&&r.a.createElement(J.a,{key:e.id,size:"small",label:"Live Guest",className:n.chip}))}))))})),r.a.createElement(he.a,null))}))),!j&&!_&&r.a.createElement(be.a,{size:"medium",color:"primary",onClick:function(e){return F(t.id,t.comments_count)}},"Load More")))};var Oe=function(e){var t=e.displayList,a=e.isVotesList,n=Object(T.a)((function(e){return{root:{flexGrow:1,marginTop:e.spacing(1)}}}))();return r.a.createElement("div",{className:n.root},r.a.createElement(W.a,{container:!0,spacing:10},t.map((function(e){return r.a.createElement(W.a,{item:!0,xs:4,key:e.id},r.a.createElement(ke,{posts:a?e.post:e,isVotesList:a}))}))))},je=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={msgHandler:null,postsList:[],selectedDate:new Date,isLoading:!1},a.onDateChange=a.onDateChange.bind(Object(h.a)(a)),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getAccessToken("")}},{key:"getAccessToken",value:function(e){var t=this;t.setState({isLoading:!0,postsList:[],msgHandler:null}),w.get("posts"+e,(function(e){t.setState({postsList:e.data.posts,isLoading:!1})}),(function(e){t.setState({msgHandler:e.msgHandler,isLoading:!1})}))}},{key:"onDateChange",value:function(e){this.setState({selectedDate:e}),this.getAccessToken("?day="+C.convertDateToFormattedDate(e,"YYYY-MM-DD"))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{fixed:!0},r.a.createElement(U,{isHomePage:!0,pageName:"ProductHunt"}),this.state.msgHandler,r.a.createElement("div",{className:"right-align"},r.a.createElement(H.a,{onChange:this.onDateChange,value:this.state.selectedDate})),this.state.isLoading&&r.a.createElement(S.a,{className:"progress"}),r.a.createElement(Oe,{displayList:this.state.postsList})))}}]),t}(r.a.Component),we=Object(g.f)(je),xe=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={msgHandler:null,votesList:[],isLoading:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getVotesForUser("2352271")}},{key:"getVotesForUser",value:function(e){var t=this;t.setState({isLoading:!0,postsList:[],msgHandler:null}),w.get("users/"+e+"/votes",(function(e){t.setState({votesList:e.data.votes,isLoading:!1})}),(function(e){t.setState({msgHandler:e.msgHandler,isLoading:!1})}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{fixed:!0},r.a.createElement(U,{isHomePage:!1,pageName:"My UpVotes"}),this.state.msgHandler,this.state.isLoading&&r.a.createElement(S.a,{className:"progress"}),r.a.createElement(Oe,{displayList:this.state.votesList,isVotesList:!0})))}}]),t}(r.a.Component),Se=Object(g.f)(xe),Le=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement(g.c,null,r.a.createElement(g.a,{exact:!0,path:"/",component:we}),r.a.createElement(g.a,{exact:!0,path:"/homepage",component:we}),r.a.createElement(g.a,{exact:!0,path:"/myupvotes",component:Se})))}}]),t}(r.a.Component);o.a.render(r.a.createElement(Le,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/komaljain/product-hunt-assigment",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/komaljain/product-hunt-assigment","/service-worker.js");i?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):c(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):c(e)}))}}()}},[[104,1,2]]]);
//# sourceMappingURL=main.57e16a6f.chunk.js.map